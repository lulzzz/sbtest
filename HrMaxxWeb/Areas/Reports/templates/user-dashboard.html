<div class="row">
	<!--Load the AJAX API-->
	
	<div class="panel panel-primary">
		<div class="panel-heading">Dashboard</div>
		<div class="panel-body">
			<div class="row col-md-12" >
				<div class="col-md-6">
					<div id="payrollChart"></div>
					<button type="submit" class="btn btn-primary" ng-if="chartExists('PayrollChartData')" ng-click="viewChartData('PayrollChartData')">
						view data
					</button>
					

				</div>
				<div class="col-md-6">
					<div id="invoiceChart"></div>
					<button type="submit" class="btn btn-primary" ng-if="chartExists('InvoiceChartData')" ng-click="viewChartData('InvoiceChartData')">
						view data
					</button>
					
				</div>
			</div>
			<br />
			<br />
			<div class="row col-sm-12">
				<div class="col-md-6">
					<table class="table table-bordered table-condensed" ng-show="data.payrollsWithoutInvoice.length>1">
						<thead>
							<tr>
								<th colspan="4">Companies with Payrolls without Invoice</th>
							</tr>
							<tr>
								<th>Host</th>
								<th>Company</th>
								<th>Number of payrolls</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="ctx in data.payrollsWithoutInvoice track by $index" ng-if="$index>0">
								<td ng-repeat="d in ctx track by $index" ng-if="$index>1">
									{{d}}
								</td>
								<td>
									<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(ctx)">view</button>
								</td>

							</tr>
						</tbody>
					</table>



				</div>
				<div class="col-sm-6">
					<table class="table table-bordered table-condensed" ng-show="data.approachingPayrolls.length>1">
						<thead>
							<tr>
								<th colspan="4">Companies with Approaching Payrolls</th>
							</tr>
							<tr>
								<th>Host</th>
								<th>Company</th>
								<th>Next Payroll Due</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="ctx in data.approachingPayrolls track by $index" ng-if="$index>0">
								<td ng-repeat="d in ctx track by $index" ng-if="$index>1">
									{{d}}
								</td>
								<td>
									<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(ctx)">view</button>
								</td>
								
							</tr>
						</tbody>
					</table>
					
				</div>
			</div>
			
			<br />
		</div>
		<div id="chartTable" class="panel-body">
			<div ng-if="selectedChart" class="row text-center p-5">
				<strong><em>{{selectedChart.title}}</em></strong>
			</div>
			<div class="row" ng-if="selectedChart">

				<table class="table table-striped table-hover table-condensed table-bordered">
					<thead>
					<th ng-repeat="col in selectedChart.chartData[0]">{{col}}</th>
					</thead>
					<tbody>
						<tr ng-repeat="row in selectedChart.chartData track by $index" ng-if="$index>0">
							<td ng-repeat="val in row track by $index">
								<span ng-show="$index===0">{{val}}</span>
								<span ng-show="$index>0"><a ng-href="#!/Admin/Invoices?company={{selectedChart.chartData[0][$index]}}">{{val}}</a></span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>