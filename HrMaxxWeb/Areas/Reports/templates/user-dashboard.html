<div class="row">
	<!--Load the AJAX API-->

	<div class="panel panel-inverse">
		<script type="text/ng-template" id="companyschedule.html">
			<div class="col-sm-12 alert-warning" ng-class="{'hidden-print': pc.minimized}">
				<h5><strong>{{pc.scheduleText}}</strong><i class="fa pull-right hidden-print" ng-class="{'fa-minus-square' : !pc.minimized, 'fa-plus-square': pc.minimized}" ng-click="pc.minimized=!pc.minimized"></i></h5>
				
			</div>
			<div class="row" ng-show="!pc.minimized">
				<table class="table  table-bordered table-condensed">

					<thead>
						<tr>
							<th>Company</th>
							<th>Contact</th>
							<th>Contact Number</th>
							<th>Notes</th>
						</tr>
					</thead>
					<tr ng-repeat="item in pc.data track by $index">

						<td class="col-sm-4">
							{{item.company }}
						</td>
						<td class="col-sm-3">
							{{item.contactName }}
						</td>
						<td class="col-sm-3">
							{{item.contactNumber}}
						</td>
						<td class="col-sm-2">
							{{item.dashboardNotes}}
						</td>

					</tr>

				</table>
			</div>
			
			
		</script>
		<div class="panel-heading hidden-print">
			<ul class="nav nav-tabs  nav-tabs-inverse" id="dashboardtabs">
				<li ng-class="{'active':data.tab===1}" ng-click="tabChanged(1)"><a data-toggle="tab"><i class="fa fa-info"></i> <span class="hidden-xs">General</span></a></li>
				<li ng-class="{'active':data.tab===4}" ng-click="tabChanged(4)" ng-show="data.viewCompanyList"><a data-toggle="tab"><i class="fa fa-info"></i> <span class="hidden-xs">Companies</span></a></li>
				<li ng-class="{'active':data.tab===2}" ng-click="tabChanged(2)" ng-show="data.viewAccountReceivables"><a data-toggle="tab"><i class="fa fa-money"></i> <span class="hidden-xs">A.R.</span></a></li>
				<li ng-class="{'active':data.tab===3}" ng-click="tabChanged(3)" ng-show="data.viewPerformance"><a data-toggle="tab"><i class="fa fa-dollar"></i> <span class="hidden-xs">Performance</span></a></li>

			</ul>
			<h2 class="panel-title"></h2>
		</div>
		<div class="panel-body">
			<div class="row hidden-print" ng-show="data.tab===2 || data.tab===3">
				<report-filter filter="mainData.reportFilter" callback="getReport()" show-dates="true" show-periods="false" show-history="false" show-active="true" show-include-clients="false" />
			</div>
			<div class="row hidden-print" ng-show="data.tab===1">
				<div class="col-sm-12 hidden-print table-responsive">

					<div class="col-sm-6 col-sm-offset-3">
						<div uib-carousel active="active" interval="5000" no-wrap="true">
							<div uib-slide ng-repeat="news in data.myNews track by $index" index="$index">
								<img ng-src="{{zionAPI.Web}}/Content/images/blank.png" alt="ASP.NET" class="img-responsive" style="height:300px;width:100%" />
								<div class="carousel-caption">
									<h3>{{news.title}}</h3>
									<p style="font-size: 14pt">
										{{news.newsContent}}
										<br />
										<i>by {{news.userName}} on {{news.timeStamp | date:'MM/dd/yyyy hh:mm:ss a'}}</i>
									</p>
								</div>

								<div class="carousel-control">
									News
								</div>

							</div>
						</div>
					</div>

				</div>


			</div>
			<div class="row" ng-show="data.tab===4">
				<div class="col-sm-12">
					<div class="col-sm-6">

						<table class="table table-bordered table-condensed" ng-class="{'hidden-print': data.printOption!==1}">
							<thead>
								<tr>
									<th colspan="5">Brand New Companies <i class="fa pull-right hidden-print" ng-if="data.companiesWithoutPayroll.length>1" ng-class="{'fa-minus-square' : data.viewingChart===1, 'fa-plus-square': data.viewingChart!==1}" ng-click="data.viewingChart=(data.viewingChart===1?0:1)"></i> <i class="fa fa-refresh pull-right hidden-print" ng-click="drawCompaniesWithoutPayrollChart()"></i><i class="fa fa-print hidden-print pull-right" ng-click="print(1)" ng-if="data.companiesWithoutPayroll.length>1"></i></th>
								</tr>
								<tr ng-show="data.companiesWithoutPayroll.length>1 && data.viewingChart===1">
									<th>Host</th>
									<th>Company</th>
									<th>Sales Rep</th>
									<th>Days past</th>
									<th class="hidden-print"></th>
								</tr>
							</thead>
							<tbody ng-show="data.viewingChart===1">
								<tr ng-repeat="ctx in data.companiesWithoutPayroll track by $index" ng-if="$index>0">
									<td>
										{{ctx.host}}
									</td>
									<td>
										{{ctx.company}}
									</td>
									<td>
										{{ctx.salesRep}}
									</td>
									<td>
										{{ctx.due}}
									</td>
									<td class="hidden-print">
										<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(ctx.hostId, ctx.companyId)">view</button>
									</td>

								</tr>
							</tbody>
						</table>

						<br />
						<br />
						<table class="table table-bordered table-condensed" ng-class="{'hidden-print': data.printOption!==3}">
							<thead>
								<tr>
									<th colspan="4">Companies with Payrolls without Invoice <i class="fa pull-right hidden-print" ng-if="data.payrollsWithoutInvoice.length>1" ng-class="{'fa-minus-square' : data.viewingChart===3, 'fa-plus-square': data.viewingChart!==3}" ng-click="data.viewingChart=(data.viewingChart===3?0:3)"></i> <i class="fa fa-refresh pull-right hidden-print" ng-click="drawPayrollWithoutInvoiceChart()"></i><i class="fa fa-print hidden-print pull-right" ng-click="print(3)" ng-if="data.payrollsWithoutInvoice.length>1"></i></th>
								</tr>
								<tr ng-show="data.payrollsWithoutInvoice.length>1 && data.viewingChart===3">
									<th>Host</th>
									<th>Company</th>
									<th>Number of payrolls</th>
									<th class="hidden-print"></th>
								</tr>
							</thead>
							<tbody ng-show="data.viewingChart===3">
								<tr ng-repeat="ctx in data.payrollsWithoutInvoice track by $index" ng-if="$index>0">
									<td ng-repeat="d in ctx track by $index" ng-if="$index>1">
										{{d}}
									</td>
									<td class="hidden-print">
										<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(ctx[0], ctx[1])">view</button>
									</td>

								</tr>
							</tbody>
						</table>

						<br />
						<br />
						<table class="table table-bordered table-condensed" ng-class="{'hidden-print': data.printOption!==4}">
							<thead>
								<tr>
									<th colspan="4">Companies with Payrolls with Draft Invoice <i class="fa pull-right hidden-print" ng-if="data.payrollsWithDraftInvoice.length>1" ng-class="{'fa-minus-square' : data.viewingChart===4, 'fa-plus-square': data.viewingChart!==4}" ng-click="data.viewingChart=(data.viewingChart===4?0:4)"></i> <i class="fa fa-refresh pull-right hidden-print" ng-click="drawPayrollWithDraftInvoiceChart()"></i><i class="fa fa-print hidden-print pull-right" ng-click="print(4)" ng-if="data.payrollsWithDraftInvoice.length>1"></i></th>
								</tr>
								<tr ng-show="data.payrollsWithDraftInvoice.length>1 && data.viewingChart===4">
									<th>Host</th>
									<th>Company</th>
									<th>Number of payrolls</th>
									<th class="hidden-print"></th>
								</tr>
							</thead>
							<tbody ng-show="data.viewingChart===4">
								<tr ng-repeat="ctx in data.payrollsWithDraftInvoice track by $index" ng-if="$index>0">
									<td ng-repeat="d in ctx track by $index" ng-if="$index>1">
										{{d}}
									</td>
									<td class="hidden-print">
										<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(ctx[0], ctx[1])">view</button>
									</td>

								</tr>
							</tbody>
						</table>

					</div>

					<div class="col-md-6">
						<table class="table table-condensed" ng-class="{'hidden-print': data.printOption!==2}">
							<tr>
								<th colspan="5">Companies Next Payroll Due ( in days ) <i class="fa pull-right hidden-print" ng-if="data.filteredApproachingPayrolls.length>0" ng-class="{'fa-minus-square' : data.viewingChart===2, 'fa-plus-square': data.viewingChart!==2}" ng-click="data.viewingChart=(data.viewingChart===2?0:2)"></i> <i class="fa fa-refresh pull-right hidden-print" ng-click="drawCompaniesWithApproachingPayrolls()"></i><i class="fa fa-print hidden-print pull-right" ng-click="print(2)" ng-if="data.filteredApproachingPayrolls.length>1"></i></th>
							</tr>
							
						</table>
						<table ng-table="tableParams" ng-show="data.viewingChart===2" class="table  table-bordered table-condensed" show-filter="true" template-pagination="custom/nopager" ng-class="{'hidden-print': data.printOption!==2}">
							
								<tr ng-repeat="item in tableData track by $index" class="mouse-over-pointer">
									<td data-title=" 'Host' " sortable=" 'host' " filter="{ 'host': 'text' }" class="col-sm-3">
										{{item.host}}
									</td>
									<td data-title=" 'Company' " sortable=" 'company' " filter="{ 'company': 'text' }" class="col-sm-3">
										{{item.company }}
									</td>
									<td data-title=" 'Sales Rep' " sortable=" 'salesRep' " filter="{ 'salesRep': 'text' }" class="col-sm-3">
										{{item.salesRep }}
									</td>
									<td data-title=" 'Next Payroll Due' " filter="{ 'due': 'number' }" sortable=" 'due' " class="col-sm-2">
										{{item.due}}
									</td>
									<td class="hidden-print text-center">
										<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(item.hostId, item.companyId)">view</button>
									</td>
								</tr>
							
						</table>
						
						<table class="table table-condensed" ng-class="{'hidden-print': data.printOption!==5}">
							<tr>

								<th colspan="2">Compan Payroll Schedules and Reporting Days <i class="fa fa-print hidden-print pull-right" ng-show="data.companySchedules.length>0" ng-click="print(5)"></i></th>

							</tr>
							<tr class="hidden-print">
								<td class="col-sm-2">
									<div class="col-sm-12" ng-dropdown-multiselect="" options="payrollScheduleSubTypes" extra-settings="{displayProp: 'title', enableSearch: true, idProp: 'id', showCheckAll: true, showUncheckAll: true ,scrollable: true}" selected-model="selectedSchedules"></div>

								</td>
								<td><button class="btn btn-primary btn-sm" ng-click="drawCompanyScheduleChart()"><i class="fa fa-refresh"></i></button></td>

							</tr>
						</table>
						<div ng-repeat="pc in data.companySchedules" ng-show="data.viewingChart===5 && data.companySchedules.length>0" class="row">
							<div ng-model="pc" ng-include="'companyschedule.html'" class="col-sm-12" ng-if="pc.data.length>0"></div>
						</div>

						



					</div>

				</div>

			</div>
			<div class="row  hidden-print" ng-show="data.tab===2">
				<div class="row col-md-12">
					<div class="col-md-6">
						<div id="invoiceststusChart"></div>



					</div>
					<div class="col-md-6">
						<div id="invoicestatusdetailedChart"></div>

					</div>
				</div>
				<div class="row col-md-12">
					<div class="col-md-6" />
					<div class="col-md-6">
						<div id="invoicestatuspastdueChart"></div>

					</div>

				</div>
				<br />
			</div>
			<div class="row hidden-print" ng-show="data.tab===3">
				<div class="row col-md-12">
					<div id="commissionPerformanceChart"></div>

				</div>
				<div class="row col-md-12">
					<div id="processingPerformanceChart"></div>

				</div>
				<br />
			</div>
			<div id="chartTable" class="panel-body hidden-print">
				<div ng-if="selectedChart" class="row text-center p-5">
					<strong><em>{{selectedChart.title}}</em></strong>
				</div>
				<div class="row" ng-if="selectedChart">

					<table class="table table-striped table-hover table-condensed table-bordered">
						<thead>
							<th ng-repeat="col in selectedChart.chartData[0]">{{col}}</th>
						</thead>
						<tbody>
							<tr ng-repeat="row in selectedChart.chartData track by $index" ng-if="$index>0">
								<td ng-repeat="val in row track by $index">
									<span ng-show="$index===0">{{val}}</span>
									<span ng-show="$index>0"><a ng-href="#!/Admin/Invoices?company={{selectedChart.chartData[0][$index]}}">{{val}}</a></span>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>