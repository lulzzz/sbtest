<div class="row">
	<!--Load the AJAX API-->
	
	<div class="panel panel-primary">
		<div class="panel-heading hidden-print">Dashboard</div>
		<div class="panel-body">
			<div class="col-sm-12 hidden-print table-responsive">
				<div class="col-sm-6" style="height:300px; overflow-y:scroll">
					<table class="table table-bordered table-condensed" ng-show="data.companiesWithoutPayroll.length>1">
						<thead>
							<tr>
								<th colspan="4">Brand New Companies</th>
							</tr>
							<tr>
								<th>Host</th>
								<th>Company</th>
								<th>Days past</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="ctx in data.companiesWithoutPayroll track by $index" ng-if="$index>0">
								<td ng-repeat="d in ctx track by $index" ng-if="$index>1">
									{{d}}
								</td>
								<td>
									<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(ctx)">view</button>
								</td>

							</tr>
						</tbody>
					</table>
				</div>
				<div class="col-sm-6">
					<div uib-carousel active="active" interval="5000" no-wrap="true">
						<div uib-slide ng-repeat="news in data.myNews track by $index" index="$index">
							<img ng-src="{{zionAPI.Web}}/Content/images/blank.png" alt="ASP.NET" class="img-responsive" style="height:300px;width:100%" />
							<div class="carousel-caption">
								<h3>{{news.title}}</h3>
								<p style="font-size: 14pt">
									{{news.newsContent}}
									<br />
									<i>by {{news.userName}} on {{news.timeStamp | date:'MM/dd/yyyy hh:mm:ss a'}}</i>
								</p>
							</div>

							<div class="carousel-control">
								News
							</div>

						</div>
					</div>
				</div>
				
			</div>
			
			<div class="row col-md-12 hidden-print" >
				<div class="col-md-6">
					<div id="payrollChart"></div>
					<button type="submit" class="btn btn-primary" ng-if="chartExists('PayrollChartData')" ng-click="viewChartData('PayrollChartData')">
						view data
					</button>
					

				</div>
				<div class="col-md-6">
					<div id="invoiceChart"></div>
					<button type="submit" class="btn btn-primary" ng-if="chartExists('InvoiceChartData')" ng-click="viewChartData('InvoiceChartData')">
						view data
					</button>
					
				</div>
			</div>
			<br />
			<br />
			<div class="row col-sm-12 m-t-10">
				<div class="col-md-6 hidden-print">
					<table class="table table-bordered table-condensed" ng-show="data.payrollsWithoutInvoice.length>1">
						<thead>
							<tr>
								<th colspan="4">Companies with Payrolls without Invoice</th>
							</tr>
							<tr>
								<th>Host</th>
								<th>Company</th>
								<th>Number of payrolls</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="ctx in data.payrollsWithoutInvoice track by $index" ng-if="$index>0">
								<td ng-repeat="d in ctx track by $index" ng-if="$index>1">
									{{d}}
								</td>
								<td>
									<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(ctx)">view</button>
								</td>

							</tr>
						</tbody>
					</table>



				</div>
				<div class="col-sm-6">
					<table class="table table-bordered table-condensed" ng-show="data.approachingPayrolls.length>1">
						<thead>
							<tr class="hidden-print">
								<th colspan="4">
									Companies with Approaching Payrolls
									<button class="btn btn-xs btn-info pull-right" ng-click="print()" ng-show="data.filteredApproachingPayrolls.length>1"><i class="fa fa-print m-r-5"></i> print</button>
									<select class="form-control small hidden-print pull-right" style="width:7em;" ng-change="filterCompaniesApproachingPayroll()" ng-model="data.filterApproachingPayroll">
										<option value="">All</option>
										<option value="Today">Today</option>
										<option value="1 day">1 day</option>
										<option value="2 days">2 days</option>
										<option value="3 days">3 days</option>
										<option value="4 days">4 days</option>
										<option value="5 days">5 days</option>
										<option value="Overdue">Overdue</option>
									</select>
										
									
								</th>
								

							</tr>
							<tr>
								<th>Host</th>
								<th>Company</th>
								<th>Next Payroll Due</th>
								<th class="hidden-print"></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="ctx in data.filteredApproachingPayrolls track by $index" ng-if="$index>0">
								<td ng-repeat="d in ctx track by $index" ng-if="$index>1">
									{{d}}
								</td>
								<td class="hidden-print">
									<button class="btn btn-xs btn-primary" ng-click="viewPayrolls(ctx)">view</button>
								</td>

							</tr>
						</tbody>
					</table>
					
				</div>
			</div>
			
			<br />
		</div>
		<div id="chartTable" class="panel-body hidden-print">
			<div ng-if="selectedChart" class="row text-center p-5">
				<strong><em>{{selectedChart.title}}</em></strong>
			</div>
			<div class="row" ng-if="selectedChart">

				<table class="table table-striped table-hover table-condensed table-bordered">
					<thead>
					<th ng-repeat="col in selectedChart.chartData[0]">{{col}}</th>
					</thead>
					<tbody>
						<tr ng-repeat="row in selectedChart.chartData track by $index" ng-if="$index>0">
							<td ng-repeat="val in row track by $index">
								<span ng-show="$index===0">{{val}}</span>
								<span ng-show="$index>0"><a ng-href="#!/Admin/Invoices?company={{selectedChart.chartData[0][$index]}}">{{val}}</a></span>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>