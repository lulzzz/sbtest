<div class="col-sm-12">
	<div class="panel panel-inverse panel-with-tabs" data-sortable-id="ui-unlimited-tabs-1">

		<div class="panel-heading" >
			<h4 class=" panel-title">
				Manage Tax Rates</h4>

		</div>
        <div class="panel-body "  ng-show="data.taxTableYears">
            <div class="row m-5">
                <div class="col-sm-1">
                    <label>Taxes by Year</label>
                </div>
                <div class="col-sm-3">
                    <select ng-model="data.selectedYear" class="form-control" ng-click="data.selectedTab=0" ng-change="getTaxTables()" convert-to-number ng-options="year for year in data.taxTableYears | orderBy:'-' track by year ">
                        <option value=""> select year</option>
                    </select>
                </div>
                <div class="col-sm-4">
                    <button class="btn btn-primary" ng-show="!data.selectedYear" ng-click="addNewYear()">Add</button>
                    <button class="btn btn-info" ng-show="data.selectedYear && hasChanges()" ng-click="save()">Save</button>
                    <button class="btn btn-default" ng-show="data.selectedYear" ng-click="cancel()">Cancel</button>
                </div>
            </div>
            <div class="row m-5 tab-overflow">

                <ul class="nav nav-tabs nav-tabs-inverse" ng-show="data.selectedYear">
                    <li class="prev-button"><a href="javascript:;" data-click="prev-tab" class="text-success"><i class="fa fa-arrow-left"></i></a></li>
                    <li ng-class="{'active':data.selectedTab===0}" ng-click="data.selectedTab=0"><a data-toggle="tab">Tax Rates</a></li>
                    <li ng-class="{'active':data.selectedTab===1}" ng-click="data.selectedTab=1"><a data-toggle="tab">FIT</a></li>
                    <li ng-class="{'active':data.selectedTab===2}" ng-click="data.selectedTab=2" ng-show="data.selectedYear<2020"><a data-toggle="tab">FIT Withholding</a></li>
                    <li ng-class="{'active':data.selectedTab===10}" ng-click="data.selectedTab=10" ng-show="data.selectedYear>=2020"><a data-toggle="tab">FIT W4</a></li>
                    <li ng-class="{'active':data.selectedTab===11}" ng-click="data.selectedTab=11" ng-show="data.selectedYear>=2020"><a data-toggle="tab">FIT Alient Adjustment</a></li>
                    <li ng-class="{'active':data.selectedTab===3}" ng-click="data.selectedTab=3"><a data-toggle="tab">SIT</a></li>
                    <li ng-class="{'active':data.selectedTab===4}" ng-click="data.selectedTab=4"><a data-toggle="tab">SIT Low Income</a></li>
                    <li ng-class="{'active':data.selectedTab===5}" ng-click="data.selectedTab=5"><a data-toggle="tab">Standard Deduction</a></li>
                    <li ng-class="{'active':data.selectedTab===6}" ng-click="data.selectedTab=6"><a data-toggle="tab">Estimated Deduction</a></li>
                    <li ng-class="{'active':data.selectedTab===7}" ng-click="data.selectedTab=7"><a data-toggle="tab">Exemption Allowance</a></li>
                    <li ng-class="{'active':data.selectedTab===8}" ng-click="data.selectedTab=8"><a data-toggle="tab">HI SIT</a></li>
                    <li ng-class="{'active':data.selectedTab===9}" ng-click="data.selectedTab=9"><a data-toggle="tab">HI SIT Withholding</a></li>
                    <li ng-class="{'active':data.selectedTab===13}" ng-click="data.selectedTab=13"><a data-toggle="tab">MT SIT</a></li>
                    <li ng-class="{'active':data.selectedTab===14}" ng-click="data.selectedTab=14"><a data-toggle="tab">MT SIT Withholding</a></li>
                    <li ng-class="{'active':data.selectedTab===12}" ng-click="data.selectedTab=12"><a data-toggle="tab">Min Wage(s)</a></li>
                    <li class="next-button"><a href="javascript:;" data-click="next-tab" class="text-success"><i class="fa fa-arrow-right"></i></a></li>
                </ul>


            </div>
            <div class="row m-5 tab-content" ng-if="data.selectedTab===0 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-2">Code</th>
                            <th class="col-sm-2">Name</th>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Rate</th>
                            <th class="col-sm-2">Annual Max</th>
                            <th class="col-sm-1">Weekly Max Wage</th>
                            <th class="col-sm-1">Limit</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.taxes | filter:{ taxYear:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.tax.code}}
                            </td>
                            <td>
                                {{item.tax.name}}
                            </td>
                            <td>
                                {{item.taxYear}}
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rate" e-name="rate" e-form="rowform" e-ng-change="item.rate = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rate }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.annualMaxPerEmployee" e-name="annualMaxPerEmployee" e-form="rowform" e-ng-change="item.annualMaxPerEmployee = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.annualMaxPerEmployee }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.weeklyMaxWage" e-name="weeklyMaxWage" e-form="rowform" e-ng-change="item.weeklyMaxWage = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.weeklyMaxWage }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.taxRateLimit" e-name="taxRateLimit" e-form="rowform" e-ng-change="item.taxRateLimit = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.taxRateLimit }}
                                </span>
                            </td>
                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveTR(item)" class="form-buttons form-inline" shown="selectedTR.tax.code===item.tax.code">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedTR(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();cancelTR(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedTR && data.taxTables.taxes.length===0">
                            <td colspan="7">
                                <span>No items found</span>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===1 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-2">Filing Status</th>
                            <th class="col-sm-1">Start</th>
                            <th class="col-sm-1">End</th>
                            <th class="col-sm-1">Flat Rate</th>
                            <th class="col-sm-1">Additional Percentage</th>
                            <th class="col-sm-1">Excess Over Amount</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=2020">Multi Jobs ?</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.fitTaxTable | filter:{ year:data.selectedYear } track by item.id" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.filingStatusText = item.filingStatus1.value; item.filingStatus=item.filingStatus1.key" ng-model="item.filingStatus1" ng-options="ps.value for ps in data.federalFilingStatuses track by ps.key">
                                    <option value="">Filing Status</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.filingStatusText}}</span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rangeStart" e-name="rangeStart" e-form="rowform" e-ng-change="item.rangeStart = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rangeStart }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rangeEnd" e-name="rangeEnd" e-form="rowform" e-ng-change="item.rangeEnd = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rangeEnd }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.flatRate" e-name="flatRate" e-form="rowform" e-ng-change="item.flatRate = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.flatRate }}
                                </span>
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.additionalPercentage" e-name="additionalPercentage" e-form="rowform" e-ng-change="item.additionalPercentage = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.additionalPercentage }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.excessOverAmoutt" e-name="excessOverAmoutt" e-form="rowform" e-ng-change="item.excessOverAmoutt = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.excessOverAmoutt }}
                                </span>
                            </td>
                            <td ng-show="data.selectedYear>=2020">
                                <div>
                                    <label for="mj{{item.id}}" class="switch">
                                        <input id="mj{{item.id}}" type="checkbox" ng-model="item.forMultiJobs" ng-disabled="!selectedFIT" /><i></i>
                                    </label>
                                </div>
                            </td>
                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="item = saveFIT(item)" class="form-buttons form-inline" shown="selectedFIT.payrollSchedule===item.payrollSchedule && selectedFIT.filingStatus===item.filingStatus && selectedFIT.rangeStart===item.rangeStart && selectedFIT.rangeEnd===item.rangeEnd">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedFIT(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-danger" ng-click="removeFIT(item)">
                                        <i class="fa fa-trash m-r-5"></i> remove
                                    </button>
                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();cancelFIT(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedFIT">
                            <td colspan="9">
                                <span ng-show="data.taxTables.fitTaxTable.length===0">No items found </span>
                                <button class="btn btn-sm btn-primary" ng-click="addFIT()"><i class="fa fa-plus-square"></i> add</button>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===10 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Filing Status</th>
                            <th class="col-sm-2">Dependent Wage Limit</th>
                            <th class="col-sm-1">Allowance (3a)</th>
                            <th class="col-sm-1">Allowance (3b)</th>
                            <th class="col-sm-2">Additional Deduction W4</th>
                            <th class="col-sm-2">Exemption Const (<=2019)</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.fitW4Table | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.filingStatusText = item.filingStatus1.value; item.filingStatus=item.filingStatus1.key" ng-model="item.filingStatus1" ng-options="ps.value for ps in data.federalFilingStatuses track by ps.key">
                                    <option value="">Filing Status</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.filingStatusText}}</span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.dependentWageLimit" e-name="dependentWageLimit" e-form="rowform" e-ng-change="item.dependentWageLimit = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.dependentWageLimit }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.dependentAllowance1" e-name="dependentAllowance1" e-form="rowform" e-ng-change="item.dependentAllowance1 = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.dependentAllowance1 }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.dependentAllowance2" e-name="dependentAllowance2" e-form="rowform" e-ng-change="item.dependentAllowance2 = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.dependentAllowance2 }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.additionalDeductionW4" e-name="additionalDeductionW4" e-form="rowform" e-ng-change="item.additionalDeductionW4 = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.additionalDeductionW4 }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.deductionForExemption" e-name="deductionForExemption" e-form="rowform" e-ng-change="item.deductionForExemption = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.deductionForExemption }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveFITW4(item)" class="form-buttons form-inline" shown="selectedFITW4.filingStatus===item.filingStatus">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedFITW4(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();item = cancelFITW4(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedFITW4">
                            <td colspan="8">
                                <span ng-show="data.taxTables.fitW4Table.length===0">No items found</span>
                                <button class="btn btn-sm btn-primary" ng-click="addFITW4()"><i class="fa fa-plus-square"></i> add</button>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===2 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-3">Amount for 1 Withholding Allowance</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.fitWithholdingAllowanceTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amoutForOneWithholdingAllowance" e-name="amoutForOneWithholdingAllowance" e-form="rowform" e-ng-change="item.amoutForOneWithholdingAllowance = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amoutForOneWithholdingAllowance }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveFITW(item)" class="form-buttons form-inline" shown="selectedFITW.payrollSchedule===item.payrollSchedule">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedFITW(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();item = cancelFITW(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedTR && data.taxTables.fitWithholdingAllowanceTable.length===0">
                            <td colspan="4">
                                <span>No items found</span>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===11 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-3">Amount</th>
                            <th class="col-sm-3">Before 2020?</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.fitAlienAdjustmentTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amount" e-name="amount" e-form="rowform" e-ng-change="item.amount = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amount }}
                                </span>

                            </td>
                            <td>
                                <div>
                                    <label for="pre2020{{item.id}}" class="switch">
                                        <input id="pre2020{{item.id}}" type="checkbox" ng-model="item.pre2020" ng-disabled="!selectedFITAlien" /><i></i>
                                    </label>
                                </div>
                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveFITAlien(item)" class="form-buttons form-inline" shown="selectedFITAlien.id===item.id">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedFITAlien(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();item = cancelFITAlien(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedFITAlien">
                            <td colspan="4">
                                <span ng-show="data.taxTables.fitAlienAdjustmentTable.length===0">No items found</span>
                                <button class="btn btn-sm btn-primary" ng-click="addFITAlien()"><i class="fa fa-plus-square"></i> add</button>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===3 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-2">Filing Status</th>
                            <th class="col-sm-1">Start</th>
                            <th class="col-sm-1">End</th>
                            <th class="col-sm-1">Flat Rate</th>
                            <th class="col-sm-1">Additional Percentage</th>
                            <th class="col-sm-1">Excess Over Amount</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.casitTaxTable | filter:{ year:data.selectedYear } track by item.id" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.filingStatusText = item.filingStatus1.value; item.filingStatus=item.filingStatus1.key" ng-model="item.filingStatus1" ng-options="ps.value for ps in data.californiaFilingStatuses track by ps.key">
                                    <option value="">Filing Status</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.filingStatusText}}</span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rangeStart" e-name="rangeStart" e-form="rowform" e-ng-change="item.rangeStart = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rangeStart }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rangeEnd" e-name="rangeEnd" e-form="rowform" e-ng-change="item.rangeEnd = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rangeEnd }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.flatRate" e-name="flatRate" e-form="rowform" e-ng-change="item.flatRate = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.flatRate }}
                                </span>
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.additionalPercentage" e-name="additionalPercentage" e-form="rowform" e-ng-change="item.additionalPercentage = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.additionalPercentage }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.excessOverAmoutt" e-name="excessOverAmoutt" e-form="rowform" e-ng-change="item.excessOverAmoutt = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.excessOverAmoutt }}
                                </span>
                            </td>
                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="item = saveSIT(item)" class="form-buttons form-inline" shown="selectedSIT.payrollSchedule===item.payrollSchedule && selectedSIT.filingStatus===item.filingStatus && selectedSIT.rangeStart===item.rangeStart && selectedSIT.rangeEnd===item.rangeEnd">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedSIT(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-danger" ng-click="removeSIT(item)">
                                        <i class="fa fa-trash m-r-5"></i> remove
                                    </button>
                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();cancelSIT(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedSIT">
                            <td colspan="9">
                                <span ng-show="data.taxTables.casitTaxTable.length===0">No items found </span>
                                <button class="btn btn-sm btn-primary" ng-click="addSIT()"><i class="fa fa-plus-square"></i> add</button>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===4 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-2">Filing Status</th>
                            <th class="col-sm-3">Amount</th>
                            <th class="col-sm-4">Amount If Exempt Grt 2</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.casitLowIncomeTaxTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.filingStatusText = item.filingStatus1.value; item.filingStatus=item.filingStatus1.key" ng-model="item.filingStatus1" ng-options="ps.value for ps in data.californiaLowIncomeFilingStatuses track by ps.key">
                                    <option value="">Filing Status</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.filingStatusText}}</span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amount" e-name="amount" e-form="rowform" e-ng-change="item.amount = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amount }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amountIfExemptGreaterThan2" e-name="amountIfExemptGreaterThan2" e-form="rowform" e-ng-change="item.amountIfExemptGreaterThan2 = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amountIfExemptGreaterThan2 }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveSITLow(item)" class="form-buttons form-inline" shown="selectedSITLow.payrollSchedule===item.payrollSchedule && selectedSITLow.filingStatus===item.filingStatus">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedSITLow(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel(); cancelSITLow(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedTR && data.taxTables.casitLowIncomeTaxTable.length===0">
                            <td colspan="4">
                                <span>No items found</span>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===5 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-2">Filing Status</th>
                            <th class="col-sm-3">Amount</th>
                            <th class="col-sm-4">Amount If Exempt Grt 1</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.caStandardDeductionTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.filingStatusText = item.filingStatus1.value; item.filingStatus=item.filingStatus1.key" ng-model="item.filingStatus1" ng-options="ps.value for ps in data.californiaLowIncomeFilingStatuses track by ps.key">
                                    <option value="">Filing Status</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.filingStatusText}}</span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amount" e-name="amount" e-form="rowform" e-ng-change="item.amount = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amount }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amountIfExemptGreaterThan1" e-name="amountIfExemptGreaterThan1" e-form="rowform" e-ng-change="item.amountIfExemptGreaterThan1 = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amountIfExemptGreaterThan1 }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveStdDed(item)" class="form-buttons form-inline" shown="selectedStdDed.payrollSchedule===item.payrollSchedule && selectedStdDed.filingStatus===item.filingStatus">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedStdDed(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel(); cancelStdDed(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedTR && data.taxTables.caStandardDeductionTable.length===0">
                            <td colspan="4">
                                <span>No items found</span>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===6 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-2">No of Allowances</th>
                            <th class="col-sm-2">Amount</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.estimatedDeductionTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                {{item.payrollScheduleText}}
                            </td>
                            <td>
                                {{item.allowances}}
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amount" e-name="amount" e-form="rowform" e-ng-change="item.amount = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amount }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveEstDed(item)" class="form-buttons form-inline" shown="selectedEstDed.payrollSchedule===item.payrollSchedule && selectedEstDed.allowances===item.allowances">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedEstDed(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();cancelEstDed(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedTR && data.taxTables.estimatedDeductionTable.length===0">
                            <td colspan="4">
                                <span>No items found</span>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===7 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-2">No of Allowances</th>
                            <th class="col-sm-2">Amount</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.exemptionAllowanceTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                {{item.payrollScheduleText}}
                            </td>
                            <td>
                                {{item.allowances}}
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amount" e-name="amount" e-form="rowform" e-ng-change="item.amount = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amount }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveExmpAllow(item)" class="form-buttons form-inline" shown="selectedExmpAllow.payrollSchedule===item.payrollSchedule && selectedExmpAllow.allowances===item.allowances">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedExmpAllow(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel(); cancelExmpAllow(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedTR && data.taxTables.exemptionAllowanceTable.length===0">
                            <td colspan="4">
                                <span>No items found</span>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===8 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-2">Filing Status</th>
                            <th class="col-sm-1">Start</th>
                            <th class="col-sm-1">End</th>
                            <th class="col-sm-1">Flat Rate</th>
                            <th class="col-sm-1">Additional Percentage</th>
                            <th class="col-sm-1">Excess Over Amount</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.hisitTaxTable | filter:{ year:data.selectedYear } track by item.id" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.filingStatusText = item.filingStatus1.value; item.filingStatus=item.filingStatus1.key" ng-model="item.filingStatus1" ng-options="ps.value for ps in data.federalFilingStatuses track by ps.key">
                                    <option value="">Filing Status</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.filingStatusText}}</span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rangeStart" e-name="rangeStart" e-form="rowform" e-ng-change="item.rangeStart = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rangeStart }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rangeEnd" e-name="rangeEnd" e-form="rowform" e-ng-change="item.rangeEnd = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rangeEnd }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.flatRate" e-name="flatRate" e-form="rowform" e-ng-change="item.flatRate = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.flatRate }}
                                </span>
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.additionalPercentage" e-name="additionalPercentage" e-form="rowform" e-ng-change="item.additionalPercentage = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.additionalPercentage }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.excessOverAmoutt" e-name="excessOverAmoutt" e-form="rowform" e-ng-change="item.excessOverAmoutt = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.excessOverAmoutt }}
                                </span>
                            </td>
                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="item = saveFIT(item)" class="form-buttons form-inline" shown="selectedFIT.payrollSchedule===item.payrollSchedule && selectedFIT.filingStatus===item.filingStatus && selectedFIT.rangeStart===item.rangeStart && selectedFIT.rangeEnd===item.rangeEnd">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedHISIT(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-danger" ng-click="removeHISIT(item)">
                                        <i class="fa fa-trash m-r-5"></i> remove
                                    </button>
                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();cancelHISIT(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedHISIT">
                            <td colspan="9">
                                <span ng-show="data.taxTables.hisitTaxTable.length===0">No items found </span>
                                <button class="btn btn-sm btn-primary" ng-click="addHISIT()"><i class="fa fa-plus-square"></i> add</button>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===9 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-3">Amount for 1 Withholding Allowance</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.hiSitWithholdingAllowanceTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amoutForOneWithholdingAllowance" e-name="amoutForOneWithholdingAllowance" e-form="rowform" e-ng-change="item.amoutForOneWithholdingAllowance = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amoutForOneWithholdingAllowance }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveHISITW(item)" class="form-buttons form-inline" shown="selectedHISITW.payrollSchedule===item.payrollSchedule">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedHISITW(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();item = cancelHISITW(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedTR && data.taxTables.hiSitWithholdingAllowanceTable.length===0">
                            <td colspan="4">
                                <span>No items found</span>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===12 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-1">State</th>
                            <th class="col-sm-1">Min Wage</th>
                            <th class="col-sm-1">Tipped Min Wage</th>
                            <th class="col-sm-1">Max Tip Credit</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.minWageYearTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.stateId = item.state.stateId" ng-model="item.state" ng-options="ps.stateName for ps in data.states track by ps.stateId">
                                    <option value="">Select State</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.stateText}}</span>
                                <span ng-show="item.isNew && !rowform.$visible">{{getStateName(item.stateId)}}</span>
                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.minWage" e-name="minwage" e-form="rowform" e-ng-change="item.minWage = $data; item.maxTipCredit=(item.minWage - item.tippedMinWage)" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.minWage }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.tippedMinWage" e-name="minwage" e-form="rowform" e-ng-change="item.tippedMinWage = $data; item.maxTipCredit=(item.minWage - item.tippedMinWage)" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.tippedMinWage }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.maxTipCredit" e-name="minwage" e-form="rowform" e-ng-change="item.maxTipCredit = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.maxTipCredit }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveMinWage(item)" class="form-buttons form-inline" shown="selectedMinWage.id===item.id">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedMinWage(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();item = cancelMinWage(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedMinWage">
                            <td colspan="9">
                                <span ng-show="data.taxTables.minWageYearTable.length===0">No items found </span>
                                <button class="btn btn-sm btn-primary" ng-click="addMinWage()"><i class="fa fa-plus-square"></i> add</button>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===13 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-1">Start</th>
                            <th class="col-sm-1">End</th>
                            <th class="col-sm-1">Flat Rate</th>
                            <th class="col-sm-1">Additional Percentage</th>
                            <th class="col-sm-1">Excess Over Amount</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.mtsitTaxTable | filter:{ year:data.selectedYear } track by item.id" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                           
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rangeStart" e-name="rangeStart" e-form="rowform" e-ng-change="item.rangeStart = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rangeStart }}
                                </span>

                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.rangeEnd" e-name="rangeEnd" e-form="rowform" e-ng-change="item.rangeEnd = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.rangeEnd }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.flatRate" e-name="flatRate" e-form="rowform" e-ng-change="item.flatRate = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.flatRate }}
                                </span>
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.additionalPercentage" e-name="additionalPercentage" e-form="rowform" e-ng-change="item.additionalPercentage = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.additionalPercentage }}
                                </span>

                            </td>

                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.excessOverAmoutt" e-name="excessOverAmoutt" e-form="rowform" e-ng-change="item.excessOverAmoutt = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.excessOverAmoutt }}
                                </span>
                            </td>
                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="item = saveMTSIT(item)" class="form-buttons form-inline" shown="selectedMTSIT.payrollSchedule===item.payrollSchedule && selectedMTSIT.rangeStart===item.rangeStart && selectedMTSIT.rangeEnd===item.rangeEnd">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedMTSIT(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-danger" ng-click="removeMTSIT(item)">
                                        <i class="fa fa-trash m-r-5"></i> remove
                                    </button>
                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();cancelMTSIT(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedMTSIT">
                            <td colspan="9">
                                <span ng-show="data.taxTables.mtsitTaxTable.length===0">No items found </span>
                                <button class="btn btn-sm btn-primary" ng-click="addMTSIT()"><i class="fa fa-plus-square"></i> add</button>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="row m-5 tab-content" ng-if="data.selectedTab===14 && data.selectedYear">
                <table class="table table-header table-bordered table-condensed form-controls input-sm">
                    <thead>
                        <tr>
                            <th class="col-sm-1">Year</th>
                            <th class="col-sm-2">Pay Period</th>
                            <th class="col-sm-3">Amount for 1 Withholding Allowance</th>
                            <th class="col-sm-1" ng-show="data.selectedYear>=data.currentYear"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in data.taxTables.mtsitExemptionConstantTable | filter:{ year:data.selectedYear } | orderBy:'tax.id' track by $index" ng-class="{'warning': item.hasChanged}">
                            <td>
                                {{item.year}}
                            </td>
                            <td>
                                <select class="form-control" ng-show="item.isNew && rowform.$visible" ng-change="item.payrollScheduleText = item.payrollSchedule1.value; item.payrollSchedule = item.payrollSchedule1.key" ng-model="item.payrollSchedule1" ng-options="ps.value for ps in data.payrollSchedules track by ps.key">
                                    <option value="">Pay Period</option>
                                </select>
                                <span ng-show="!item.isNew || !rowform.$visible">{{item.payrollScheduleText}}</span>
                            </td>
                            <td>
                                <!-- editable comment (text with validation) -->
                                <span editable-number="item.amount" e-name="amount" e-form="rowform" e-ng-change="item.amount = $data" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
                                    {{ item.amount }}
                                </span>

                            </td>


                            <td style="white-space: nowrap" ng-show="data.selectedYear>=data.currentYear">
                                <!-- form -->
                                <form editable-form id="rowform" name="rowform" onbeforesave="saveMTSITW(item)" class="form-buttons form-inline" shown="selectedMTSITW.payrollSchedule===item.payrollSchedule">
                                    <button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setSelectedMTSITW(item)">
                                        <i class="fa fa-pencil m-r-5"></i> edit
                                    </button>

                                    <button type="submit" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" class="btn btn-sm btn-success">
                                        <i class="fa fa-check m-r-5"></i> save
                                    </button>
                                    <button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();item = cancelMTSITW(item)" class="btn btn-sm btn-default">
                                        <i class="fa fa-undo m-r-5"></i> cancel
                                    </button>
                                </form>
                            </td>

                        </tr>
                        <tr ng-show="!selectedTR && data.taxTables.mtsitExemptionConstantTable.length===0">
                            <td colspan="4">
                                <span>No items found</span>
                            </td>


                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
	</div>
	
</div>
