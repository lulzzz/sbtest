<div class="col-sm-12">
	<div class="col-sm-12 hidden-print" style="background-color:lightgray">
		<div class="row p-10">
			<div class="col-sm-8 text-bold" style="color: darkgreen">
				<div class="col-sm-12">
					{{company.name}}
				</div>
				<div class="col-sm-12">
					{{company.companyAddress.addressLine1}}
				</div>
				<div class="col-sm-12">
					{{company.companyAddress.city}}, CA {{company.companyAddress.zip}}{{company.companyAddress.zipExtension? ' - ' + company.companyAddress.zipExtension : ''}}
				</div>
			</div>
			<div class="col-sm-4">
				<div class="form-group">
					<div class="col-sm-6"><label class="control-label">Invoice No.<span class="text-danger">*</span></label></div>
					<div class="col-sm-6"><input type="number" ng-model="item.invoiceNumber" ng-disabled="item.id" class="form-control" required data-parsley-pattern="/^[1-9][0-9]{2,5}$/" data-parsley-type="number" step="1" /></div>

				</div>


			</div>
		</div>
		<div class="row p-10">
			<div class="col-sm-8"></div>
			<div class="col-sm-4">
				<div>
					<div class="col-sm-6"><label class="control-label">Invoice Date:<span class="text-danger">*</span></label></div>
					<div class="col-sm-6">
						<date-ctrl name="startdate" required="true" model="item.invoiceDate" disabled="item.id" />
					</div>
				</div>
			</div>
		</div>

		<div class="row p-10 form-group">
			<div class="col-sm-8">
				<div class="col-sm-2">
					<label>Invoice to the Order of</label>
				</div>
				<div class="col-sm-6">
					<div class="col-sm-10 text-bold">
						<input type="text" placeholder="Customer Name" ng-blur="payeeSelected()" ng-disabled="item.id" typeahead-min-length="3" typeahead-show-hint="true" ng-model="data.selectedPayee" uib-typeahead="customer as customer.displayName for customer in data.payees | filter:$viewValue" class="form-control">
					</div>
				</div>
			</div>
			<div class="col-sm-4">
				<div class="form-group">
					<div class="col-sm-6"><label class="control-label">Amount: <span class="text-danger">*</span></label></div>
					<div class="col-sm-6">{{item.amount | currency:'$'}}</div>
				</div>
			</div>
		</div>
		<div class="row p-10 form-group" ng-if="item.amount">
			<div class="col-sm-8">
				<div class="col-sm-8">
					<label><em>{{item.amount | words}}</em></label>
				</div>

			</div>
		</div>
		<div class="row p-10 form-group">
			<div class="col-sm-8">
				<div class="col-sm-2">
					<label>Memo: </label>
				</div>
				<div class="col-sm-6">
					<div class="col-sm-10">
						<input type="text" ng-model="item.memo" class="form-control" required />
					</div>

				</div>
			</div>
		</div>


	</div>

	<div class="col-sm-12 hidden-print" ng-show="showControls">
		<button class="btn btn-sm btn-default pull-right m-5" ng-click="cancel()"><i class="fa fa-undo m-r-5"></i> Cancel</button>
		<button class="btn btn-sm btn-primary pull-right m-5" ng-click="save()" ng-disabled="isCheckInValid()" ng-show="!item.isVoid"><i class="fa fa-check m-r-5"></i> Save</button>
		<button class="btn btn-sm btn-success pull-right m-5" ng-click="print()" ng-show="item.id && !item.isVoid && !hasChanged()"><i class="fa fa-print m-r-5"></i>print</button>
		<button class="btn btn-sm btn-warning pull-right m-5" ng-click="void()" ng-show="item.id && !item.isVoid">void</button>
	</div>
	<div class="col-sm-12 hidden-print">
		<table class="table table-header table-bordered table-condensed form-controls input-sm">
			<thead>
				<tr>
					<th class="col-sm-5">Item</th>
					<th class="col-sm-2">Rate</th>
					<th class="col-sm-2">Quantity</th>
					<th class="col-sm-2">Amount</th>
					<th class="col-sm-1" ng-show="showControls">
						<button type="button" ng-click="addJournalItem()" ng-show="!item.isVoid && !selectedji" class="btn btn-primary btn-circle btn-icon">
							<i class="fa fa-plus" />
						</button>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="ji in item.listItems track by $index">
					<td>
						<span e-ng-change="ji.item = $data" editable-text="ji.item" e-name="item" e-form="rowform" e-style="width:25em;">
							{{ ji.item }}
						</span>

					</td>
					<td>
						<span e-ng-change="ji.rate = $data" editable-number="ji.rate" e-name="rate" e-form="rowform" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
							{{ ji.rate | currency:'$' }}
						</span>
					</td>
					<td>
						<span e-ng-change="ji.quantity = $data" editable-number="ji.quantity" e-name="quantity" e-form="rowform" e-ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" e-step="0.01" e-style="width:10em;">
							{{ ji.quantity | currency:'' }}
						</span>
					</td>
					<td>
						{{ ji.rate && ji.quantity ? ((ji.rate*ji.quantity) | currency:'$') : '' }}

					</td>

					<td style="white-space: nowrap" ng-show="showControls">
						<!-- form -->
						<form editable-form id="rowform" name="rowform" onbeforesave="saveJournalItem(ji)" class="form-buttons form-inline" shown="selectedji===ji" ng-show="!item.isVoid">
							<button type="button" ng-show="!rowform.$visible" class="btn btn-sm btn-primary" ng-click="rowform.$show();setselectedji(ji)">
								<i class="fa fa-pencil" />
							</button>
							<button type="submit" ng-disabled="rowform.$waiting || !isJournalItemValid(ji)" ng-show="rowform.$visible" class="btn btn-sm btn-success">
								<i class="fa fa-check" />
							</button>
							<button type="button" ng-disabled="rowform.$waiting" ng-show="rowform.$visible" ng-click="rowform.$cancel();cancelji($index)" class="btn btn-sm btn-default">
								<i class="fa fa-undo" />
							</button>
						</form>
					</td>

				</tr>
				<tr ng-show="item.listItems.length>0">
					<td colspan="3"></td>
					<td><h3>Total:</h3></td>
					<td><h3> {{item.amount | currency:'$'}}</h3></td>
				</tr>
				<tr ng-show="!selectedji  && !item.isVoid">
					<td colspan="5">
						<span ng-show="item.listItems.length===0">No items found</span>
					</td>

				</tr>

			</tbody>
		</table>

	</div>
	<div class="col-sm-12 hidden-print" ng-if="item.id">
		<entity-documents main-data="mainData" source-type-id="item.entityType1" heading="'Documents'" source-id="item.sourceId" />
	</div>
	<div class="col-sm-12 col-md-12 visible-print">
		<div class="invoice" id="print">
			<!-- begin invoice-company -->
			<div class="invoice-company">
				{{mainData.selectedCompany.name}}
			</div>
			<!-- end invoice-company -->
			<!-- begin invoice-header -->
			<div class="invoice-header">
				<div class="invoice-fromci ">
					<small>from</small>
					<address class="m-t-5 m-b-5">
						<strong>{{mainData.selectedCompany.name}}</strong><br />
						{{mainData.selectedCompany.companyAddress.addressLine1}}<br />
						{{mainData.selectedCompany.companyAddress.city}}, CA, {{mainData.selectedCompany.companyAddress.zip}}{{mainData.selectedCompany.companyAddress.zipExtension? ' - ' +mainData.selectedCompany.companyAddress.zipExtension : ''}}<br />						
						
					</address>					
					<small class="m-t-20">to</small>
					<address class="m-t-5 m-b-5">
						<strong class="text-inverse">{{item.payeeName}}</strong><br />
						{{item.contact.address.addressLine1}}<br />
						{{item.contact.address.addressLine2}}<br />
					</address>
				</div>
				
				<div class="invoice-dateci ">
					<small>Invoice</small>
					<div class="invoice-detail">
						#{{item.invoiceNumber}}						
					</div>
					<div class="date text-inverse m-t-5">{{item.invoiceDate | date: 'MMMM dd, yyyy'}}</div>
					<div class="invoice-detail">
						{{item.memo}}
					</div>
				</div>
			</div>
			<!-- end invoice-header -->
			<!-- begin invoice-content -->
			<div class="invoice-content p-t-20">
				<!-- begin table-responsive -->
				<div class="table-responsive">
					<table class="table table-invoice">
						<thead>
							<tr>
								<th>DESCRIPTION</th>
								<th class="text-center" width="10%">RATE</th>
								<th class="text-center" width="10%">Quantity</th>
								<th class="text-right" width="20%">LINE TOTAL</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="j2 in item.listItems track by $index">
								<td>
									<span class="text-inverse">{{j2.item}}</span><br />

								</td>
								<td class="text-center">{{j2.rate | currency:'$'}}</td>
								<td class="text-center">{{j2.quantity | currency}}</td>
								<td class="text-right">{{j2.amount | currency:'$'}}</td>
							</tr>

						</tbody>
					</table>
				</div>
				<!-- end table-responsive -->
				<!-- begin invoice-price -->
				<div class="invoice-price">
					<div class="invoice-price-left">

					</div>
					<div class="invoice-price-right">
						<small>TOTAL</small> <span class="f-w-600">{{item.amount | currency:'$'}}</span>
					</div>
				</div>
				<!-- end invoice-price -->
			</div>
			<!-- end invoice-content -->
			<!-- begin invoice-note -->
			<div class="invoice-note">
				* Make all cheques payable to {{mainData.selectedCompany.taxFilingName}}<br />
				* Payment is due immediately unless stated otherwise above.<br />
				* If you have any questions concerning this invoice, please see contact information below
			</div>
			<!-- end invoice-note -->
			<!-- begin invoice-footer -->
			<div class="invoice-footer">
				<p class="text-center m-b-5 f-w-600">
					THANK YOU FOR YOUR BUSINESS
				</p>
				<p class="text-center">
					{{ mainData.selectedCompany.contact.firstName + ' ' + mainData.selectedCompany.contact.lastName}}
					<span class="m-r-10"><i class="fa fa-fw fa-lg fa-phone"></i> Tel: {{getContactPhone(mainData.selectedCompany.contact)}}</span>
					<span class="m-r-10"><i class="fa fa-fw fa-lg fa-fax"></i> Fax: {{getContactFax(mainData.selectedCompany.contact)}}</span>
					<span class="m-r-10"><i class="fa fa-fw fa-lg fa-envelope"></i> {{ mainData.selectedCompany.contact.email }}</span>
				</p>
			</div>
			<!-- end invoice-footer -->
		</div>
	</div>
	
</div>

