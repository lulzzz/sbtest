<div>
    <h1 class="page-header">Profile Page </h1>
    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
    <!-- end page-header -->
    <div>


        <!-- begin profile-container -->
        <div class="row">
            <div class="profile-container col-sm-8">

                <!-- begin profile-section -->
                <div class="profile-section" ng-if="user">
                    <!-- begin profile-left -->
                    <div class="profile-left">
                        <!-- begin profile-image -->
                        <div class="profile-image">
                            <img ng-src="{{zionAPI.Web}}/Content/images/BlankUser.jpg" />
                            <i class="fa fa-user hide"></i>
                        </div>
                        <!-- end profile-image -->
                        <!--<div class="m-b-10">
                            <a href="#" class="btn btn-warning btn-block btn-sm">Change Picture</a>
                        </div>-->

                        <!-- end profile-highlight -->
                    </div>
                    <!-- end profile-left -->
                    <!-- begin profile-right -->
                    <div class="profile-right">
                        <!-- begin profile-info -->
                        <div class="profile-info">
                            <!-- begin table -->
                            <div class="table-responsive">



                                <table class="table table-profile">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>
                                                <h4>{{ FullName()}} <small>{{user.email}}</small></h4>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="divider">
                                            <td colspan="2"></td>
                                        </tr>
                                        <tr>
                                            <td class="field">First Name</td>
                                            <td> <a href="#" editable-text="user.firstName">{{ user.firstName || 'empty' }}</a></td>
                                        </tr>
                                        <tr>
                                            <td class="field">Last Name</td>
                                            <td> <a href="#" editable-text="user.lastName">{{ user.lastName || 'empty' }}</a></td>
                                        </tr>
                                        <tr>
                                            <td class="field">Phone</td>
                                            <td><i class="fa fa-mobile fa-lg m-r-5"></i> <a href="#" editable-text="user.phone">{{ user.phone || 'empty' }}</a></td>
                                        </tr>
                                        <tr>
                                            <td class="field">Email</td>
                                            <td><i class="fa fa-envelope fa-lg m-r-5"></i> <a href="#" editable-text="user.email">{{ user.email || 'empty' }}</a></td>
                                        </tr>

                                        <tr>
                                            <td class="field">Role</td>
                                            <td>
                                                <div class="col-sm-6">
                                                    <select id="roles" class="form-control" ng-model="user.role" ng-disabled="user.availableRoles.length===1" ng-options="role.roleName for role in user.availableRoles track by role.roleId">
                                                        <option value="">Please select...</option>
                                                    </select>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr ng-if="user">
                                            <td class="field"></td>
                                            <td>
                                                <button class="btn btn-sm btn-primary m-r-5" ng-click="save()">Save</button>
                                                <button class="btn btn-sm btn-default m-r-5" ng-click="cancel()">Cancel</button>


                                            </td>
                                        </tr>




                                    </tbody>
                                </table>

                            </div>
                            <!-- end table -->


                        </div>
                        <!-- end profile-info -->
                    </div>
                    <!-- end profile-right -->
                </div>
                <!-- end profile-section -->

            </div>
            <div class="col-sm-4" ng-if="user">
                <!--<div class="col-sm-12 m-l-20">
                    <comment-list source-type-id="12" source-id="user.userId" list="user.comments" heading="'Comments'" />
                </div>-->
                <div class="col-sm-12 m-l-20">
                    <div class="row panel panel-inverse" data-sortable-id="form-stuff-4">
                        <div class="panel-heading">
                            <h4 class="panel-title">Change Password</h4>
                        </div>
                        <div class="panel-body">
                            <div class="col-sm-12">
                                <form name="changepasswordform" novalidate>
                                    <fieldset>
                                        <div class="row form-group">

                                            <label>Old Password</label>
                                            <input type="password" ng-model="data.oldPassword" name="odlpassword" class="form-control" required />

                                        </div>
                                        <div class="row form-group">
                                            <label>New Password</label>

                                            <input type="password" ng-model="data.newPassword" name="newpassword" class="form-control" required />

                                        </div>
                                        <div class="row form-group">
                                            <label>Confirm New Password</label>

                                            <input type="password" ng-model="data.confirmPassword" name="confirmpassword" class="form-control" required />

                                        </div>

                                        <div class="row form-group">

                                            <button type="button" class="btn btn-sm btn-primary m-r-5" ng-click="changePassword()" ng-disabled="changepasswordform.$invalid || data.newPassword!==data.confirmPassword">Change password</button>

                                        </div>
                                    </fieldset>
                                </form>
                            </div>

                        </div>
                    </div>
                    </div>
                </div>
            </div>

        
    </div>
</div>

